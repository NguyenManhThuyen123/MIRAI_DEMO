import{a as k}from"./B4uVmeYG.js";import{_ as E,r as u,g as x,I as L,o as f,c as v,F as y,x as S,a as m,t as T,n as B,T as Q,p as F,e as R}from"./DAaR74PX.js";const z="data:image/svg+xml,%3csvg%20width='8'%20height='13'%20viewBox='0%200%208%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.5%201.5L6.5%206.5L1.5%2011.5'%20stroke='%23FFFD5E'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",H=c=>(F("data-v-7a8a90f1"),c=c(),R(),c),A=H(()=>m("img",{class:"question-arrow",src:z},null,-1)),C={__name:"HeaderStampQuestionUser",props:{color:Boolean,admin:Boolean,additionalId:String},setup(c){const l=c,r=u(null),w=u(0),i=u([]),n=u([]),_=async()=>{try{const e=await k.get("https://naadstkfr7.execute-api.ap-southeast-1.amazonaws.com/questions");n.value=e.data,l.additionalId&&n.value.push({sort:l.additionalId}),w.value=n.value.length}catch(e){console.error("Error fetching questions:",e)}},h=()=>{Q(()=>{var e;if(r.value){const o=Array.from(r.value.children);o.forEach(a=>a.classList.remove("last-in-row","last-row"));let t=null,s=[];o.forEach((a,q)=>{const p=a.offsetTop;t===null&&(t=p),p!==t&&(s.push(o[q-1]),t=p)}),s.push(o[o.length-1]),s.forEach(a=>a.classList.add("last-in-row"));const d=(e=s[s.length-1])==null?void 0:e.offsetTop;o.forEach(a=>{a.offsetTop===d&&a.classList.add("last-row")})}})};x(async()=>{await _(),h(),window.addEventListener("resize",h),L(()=>{const e=localStorage.getItem("results");e&&(i.value=JSON.parse(e));const o=n.value.every(t=>{const s=t.id;return i.value.some(d=>parseInt(d.id)===s)});r.value&&(l.color&&o?r.value.classList.add("colorful"):r.value.classList.remove("colorful"))})});const g=e=>{var t;const o=(t=n.value[e-1])==null?void 0:t.id;return i.value.some(s=>parseInt(s.id)===o&&s.status===!0&&l.admin)},I=e=>{var t;const o=(t=n.value[e-1])==null?void 0:t.id;return i.value.some(s=>parseInt(s.id)===o&&s.status===!1&&l.admin)};return(e,o)=>(f(),v("div",{class:"question-header",ref_key:"questionHeader",ref:r},[(f(!0),v(y,null,S(n.value,(t,s)=>(f(),v("div",{key:s,class:"question"},[m("div",{class:B(["circle",{correct:g(s+1),incorrect:I(s+1)}])},[m("span",null,"Q."+T(t.sort),1)],2),A]))),128))],512))}},N=E(C,[["__scopeId","data-v-7a8a90f1"]]);export{N as _};
